<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Quiz Quest{% endblock %}</title>
        <script src="https://kit.fontawesome.com/00d08f6e06.js" crossorigin="anonymous"></script>{# lien icon fontaweasome #}
        
        {% block stylesheets %}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>{# lien cdn swiper #}
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">{# lien cdn bootstrap #}
             <link rel="stylesheet" href="{{ asset('styles/style.css') }}">{# lien style css #}
        {% endblock %}

    </head>
    <body>
        <div class="box">
            <header>
                <div id="nav">
                    <figure id="logo"> 
                        <a href="{{path('app_home_quiz')}}"><img class="logo" src="{{ asset('img/logo1.png') }}" alt="Logo de Quiz Quest"></a>
                    </figure>
                    <nav class="nav_base">
                        <a href="">Les thèmes</a>
                        {# visible que par admin #}
                        {% if is_granted('ROLE_ADMIN') %} 
                        {# route vers panel admin #}
                            <a class="lien_nav" href="{{path('app_admin_panel')}}">Panel admin</a>
                        {% endif %}
                        {# visible pour moderateur et admin  #}
                        {% if is_granted('ROLE_MODERATOR') %} 
                        {# pannel pour la modération  #}
                            <a class="lien_nav" href="{{path('app_moderator_panel')}}">Modération</a>
                        {% endif %}
                        
                            {# si l'utilisateur est connecté #}
                        {% if is_granted('IS_AUTHENTICATED_REMEMBERED') %}  
                            {# pseudo + image profil du user  #}
                            <a class="lien_nav" href="{{path('user_profile',{'id': app.user.id})}}"> {{ app.user.username }}</a>
                            {# <figure class="fig_nav"><figcaption></figcaption><img class="img_nav" src="{{ asset('avatar/' ~ app.user.profileImage) }}" alt="Image de profil de {{ app.user.username }}"></figure> #}
                            {#affiche le bouton déconnection  #}
                            <a class="lien_nav" href="{{path('app_logout')}}">Déconnexion</a>
                            <div id="searchBar">
                                <form>
                            
                                    <input id="searchInput" type="search" placeholder="Recherche un quiz">
                            
                                    <div id="textHint"></div>
                            
                                </form>
                            </div>
                        {% else %}
                            {# sinon connection et inscription #}
                          
                            <a class="lien_nav" href="{{path('app_register')}}">S'inscrire</a>
                            <a class="lien_nav" href="{{path('app_login')}}">Connexion</a>
                        {% endif %}
                    </nav>
                </div>
            </header>
            <main>

            
                    {# {{ dump() }} #}
                
                    {% block body %}
                        {% for error in app.flashes('error') %}
                            <div class="alert alert-danger" role="alert">{{ error }}</div>
                        {% endfor %}
                    {% endblock %} 
                
            </main>
            <footer>
                <div class="footer">
                    <figure id="logo"> 
                        <a href="{{path('app_home_quiz')}}"><img class="logo" src="{{ asset('img/logo1.png') }}" alt="Logo de Quiz Quest"></a>
                    </figure>
                    <section class="contact">
                        <h3>Information</h3>
                        <ul>
                            <li>
                                <a href="#">Nous contacter</a>
                            </li>
                            <li> 
                                <a href="#">Mention légale</a>
                            </li> 
                        </ul>
                    </section>
                    <section class="partenaire">
                        <h3>Partenaire</h3>
                        <ul>
                            <li>
                                <a href="#">Partenaire 1</a>
                            </li>
                            <li>
                                <a href="#">Paretanire 2</a>
                            </li>
                            <li>
                                <a href="#">Partenaire 3</a>
                            </li>
                        </ul>
                    </section>
                    <section class="reseau-sociaux">
                        <h3>Réseau Sociaux</h3>
                        <ul>
                            <li>
                                <a target="_blank" href="https://twitter.com/twitterfrance"><i class="fa-brands fa-twitter fa-2xl"></i></a>
                            </li>
                            <li>
                                <a target="_blank" href="https://fr-fr.facebook.com/"><i class="fa-brands fa-facebook fa-2xl"></i></a>
                            </li>
                            <li>
                                <a target="_blank" href="https://accounts.snapchat.com/accounts/v2/login"><i class="fa-brands fa-snapchat fa-2xl"></i></a>
                            </li>
                            <li>
                                <a target="_blank" href="https://www.instagram.com/"><i class="fa-brands fa-instagram fa-2xl"></i></a>
                            </li>
                        </ul>
                    </section>
                </div>
            </footer>
            {% block javascripts %}
                
            
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
                <script
                src="https://code.jquery.com/jquery-3.4.1.min.js"
                integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
                crossorigin="anonymous">
            </script>
            <script src="{{ asset('js/quiz.js') }}"></script>    
            <script src="{{ asset('js/profil.js') }}"></script>
            <script src="{{ asset('js/search.js') }}"></script>
            {% endblock %}
        </div>    
    </body>
</html>
