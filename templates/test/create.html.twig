
{% extends 'base.html.twig' %}

{% block title %}Ajout des question et des réponses{% endblock %}

{% block body %}

<div class="container">

    <h2>Ajout des questions du quiz</h2>
   
       
{# *******************ajout ou modification des question au quiz ********************************************************************#}
    
{{ form_start(formQuiz)}}
{{ dump(formQuiz.questions) }}

    <div class="formQuiz-group row ">
        <div class="col-form-label col-sm-2">&nbsp;</div>
        <div id="question-fields-list" class="col-sm-10 remove-collection-widget"
            data-question="{{ form_widget(formQuiz.questions.vars.prototype)|e }}"
            data-quiz="{{quizId}}"
            data-widget-question="{{ '<p></p>'|e }}"
            data-widget-question-counter="{{ formQuiz.questions|length }}">
        {% for questionField in formQuiz.questions %}
    
            {{ form_start(form)}}
                    {# {{form_row(form.sentence)}} #}
                    <h2>Ajout des réponse:</h2>
                    <div class="form-group row ">
                        <div class="col-form-label col-sm-2">&nbsp;</div>
                        <div id="answer-fields-list" class="col-sm-10 remove-collection-widget"
                            data-prototype="{{ form_widget(form.answers.vars.prototype)|e }}"
                            data-quiz="{{quizId}}"
                            data-widget-tags="{{ '<p></p>'|e }}"
                            data-widget-counter="{{ form.answers|length }}">
                            {% for answerField in form.answers %}
                                <p>
                                    {{ form_errors(answerField) }}
                                    {{ form_widget(answerField, {'attr': {'class': 'borders'}}) }}
                                </p>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="form-group row flex-action">
                        <button type="button" 
                            class="add-another-collection-widget button"
                            data-list-selector="#answer-fields-list">Ajouter une réponse </button>
                    </div>
                    {# empêche l'apparition d'une légende "programmes", si la collection est vide (en cas de création d'une nouvelle session) #}
                    {% do form.answers.setRendered %}
            {{ form_end(form) }}

        {% endfor %}
    </div>
    <div class="formQuiz-group row flex-action">
        <button type="button" 
            class="add-another-collection-question-widget button"
            data-list-selector="#question-fields-list">Ajouter une réponse </button>
    </div>
    {# empêche l'apparition d'une légende "programmes", si la collection est vide (en cas de création d'une nouvelle session) #}
    {% do formQuiz.questions.setRendered %}
{{ form_end(formQuiz)}}
</div>
{% endblock %}
