{% extends 'base.html.twig' %}

{% block title %}Ajouter une Session{% endblock %}

{% block body %}
<div class="container">
   
    <p>Vous devez ajouter un minum de 10 question avec au minmum 2 réponse pour qu'un quiz soit valide</p>
    
    {{ form_start(formNewQuestion) }}
        {# on va construire dynamiquement la liste des question a creer a partir de question #}
        <h2>Ajout des réponses</h2>
        <div class="formNewQuestion-group row ">

            <div class="col-formNewQuestion-label col-sm-2">&nbsp;</div>

            <div id="answers-fields-list" class="col-sm-10 remove-collection-widget"
                data-prototype="{{ form_widget(formNewQuestion.answers.vars.prototype)|e }}"
                data-question="{{questionId}}"
                data-widget-tags="{{ '<p></p>'|e }}"
                data-widget-counter="{{ formNewQuestion.answers|length }}">
                
                {% for answersField in formNewQuestion.answers %}

                    <p>
                        {{ form_errors(answersField) }}

                        {{ form_widget(answersField, {'attr': {'class': 'borders'}}) }}

                    </p>
                   
                    {% endfor %} 

            </div>

        </div>

        <div class="formNewQuestion-group row flex-action">
            <button type="button" 
                class="add-another-collection-widget button"
                data-list-selector="#answers-fields-list">
                Ajouter une Réponse
            </button>
        </div>

      
    
        {# empêche l'apparition d'une légende "questions", si la collection est vide (en cas de création d'une nouvelle session) #}
        {% do formNewQuestion.answers.setRendered %}
    {{ form_end(formNewQuestion) }}
</div>
{% endblock %}

