{% extends 'base.html.twig' %}

{% block title %}Ajouter des réponses{% endblock %}

{% block body %}
<div class="container">
   
    <div class="form-group row">

        <div class="col-form-label col-sm-2">&nbsp;</div>
        {# {{ dump(form.questions)}} #}
        <div id="answer-fields-list" class="col-sm-10 remove-collection-widget"
            {# data-prototype="{{ form_widget(questionField.answers.vars.prototype)|e }}" #}
            data-quiz="{{quizId}}"
            data-widget-tags="{{ '<p></p>'|e }}"
            data-widget-counter="{{ questionField.answers|length }}"> 
{# *******************ajout ou modification des question au quiz ********************************************************************#}
            {% for answerField in questionField.answers %}
            <p>     
                {% for row in questionField.children %}
                {# {{ dump(answerField) }}
                {{ dump(questionField.children.answers) }} #}
            
                    {# {{ dump(questionField.answers) }}
                    {{ dump(answerField) }}
                    {{ dump(answerField.vars.name) }} #}
                    {{ form_errors(answerField) }}
                    {# {{ form_row(answerField, {'attr': {'class': 'borders'}}) }} #}
                    {% set name = name + 1 %}
                {% endfor %} 
            </p>
            {% endfor %}
        </div>

    </div>

    <div class="form-group row flex-action">
        <button type="button" 
        class="add-another-collection-widget button"
        data-list-selector="#answer-fields-list">Ajouter une réponse</button>
    </div>

            {# empêche l'apparition d'une légende "programmes", si la collection est vide (en cas de création d'une nouvelle session) #}
            {% do questionField.answers.setRendered %}

</div>
{% endblock %}

